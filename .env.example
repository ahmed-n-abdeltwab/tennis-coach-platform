# =============================================================================
# Tennis Coach Platform - Environment Variables
# =============================================================================
# This file documents all environment variables used by the application.
# Copy this file to .env and fill in your values.
#
# IMPORTANT: Never commit .env files with real credentials to version control!
# =============================================================================

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================

# Database connection URL for PostgreSQL.
# Format: postgresql://<user>:<password>@<host>:<port>/<database>?<options>
#
# DEVELOPMENT:
#   Use localhost without SSL:
#   DATABASE_URL="postgresql://postgres:password@localhost:5432/tennis_coach_dev?connection_limit=5&pool_timeout=2"
#
# PRODUCTION (Render PostgreSQL):
#   Render provides the DATABASE_URL automatically with SSL enabled.
#   The URL format includes sslmode=require for secure connections:
#   DATABASE_URL="postgresql://user:password@host.render.com:5432/dbname?sslmode=require"
#
#   SSL REQUIREMENTS:
#   - Render PostgreSQL requires SSL connections (sslmode=require)
#   - The connection string from Render dashboard already includes SSL params
#   - Do NOT disable SSL in production environments
#
# Connection Pool Options:
#   connection_limit: Maximum active connections (recommended: num_cpus * 2 + 1)
#   pool_timeout: Seconds to wait for a connection (default: 10)
#
DATABASE_URL="postgresql://postgres:password@localhost:5432/tennis_coach_dev?connection_limit=5&pool_timeout=2"

# =============================================================================
# JWT AUTHENTICATION
# =============================================================================

# JWT_SECRET: Secret key for signing access tokens
# REQUIREMENTS:
#   - Minimum 32 characters
#   - Use cryptographically secure random string
#   - MUST be different in production than development
#
# Generate a secure secret:
#   openssl rand -base64 32
#
# PRODUCTION: Set this in Render dashboard environment variables
#   Render can auto-generate secrets using generateValue: true in render.yaml
#
JWT_SECRET="your-super-secure-jwt-secret-key-change-in-production"

# JWT_EXPIRES_IN: Access token expiration time
# Format: number + unit (s=seconds, m=minutes, h=hours, d=days)
# PRODUCTION: Consider shorter expiration (e.g., "15m" or "1h") for security
#
JWT_EXPIRES_IN="24h"

# JWT_REFRESH_SECRET: Separate secret key for refresh tokens
# REQUIREMENTS:
#   - Minimum 32 characters
#   - MUST be different from JWT_SECRET
#   - Use cryptographically secure random string
#
# Generate a secure secret:
#   openssl rand -base64 32
#
# PRODUCTION: Set this in Render dashboard environment variables
#
JWT_REFRESH_SECRET="your-super-secure-jwt-refresh-secret-key-change-in-production"

# JWT_REFRESH_EXPIRES_IN: Refresh token expiration time
# Typically longer than access token expiration
#
JWT_REFRESH_EXPIRES_IN="7d"

# =============================================================================
# PAYPAL INTEGRATION
# =============================================================================

# PayPal API credentials for payment processing
# Get credentials from: https://developer.paypal.com/dashboard/applications
#
# PAYPAL_ENVIRONMENT:
#   - "sandbox" for development/testing
#   - "live" for production (PRODUCTION ONLY)
#
# PRODUCTION: Use live credentials and set PAYPAL_ENVIRONMENT="live"
#
PAYPAL_CLIENT_ID="your-paypal-client-id"
PAYPAL_CLIENT_SECRET="your-paypal-client-secret"
PAYPAL_ENVIRONMENT="sandbox"

# =============================================================================
# GOOGLE CALENDAR INTEGRATION
# =============================================================================

# Google OAuth credentials for Calendar integration
# Get credentials from: https://console.cloud.google.com/apis/credentials
#
# GOOGLE_REDIRECT_URI:
#   - Development: http://localhost:3333/auth/google/callback
#   - Production: https://your-api-domain.onrender.com/auth/google/callback
#
# PRODUCTION: Update GOOGLE_REDIRECT_URI to your Render API URL
#   and add it to authorized redirect URIs in Google Cloud Console
#
GOOGLE_CLIENT_ID="your-google-oauth-client-id"
GOOGLE_CLIENT_SECRET="your-google-oauth-client-secret"
GOOGLE_REDIRECT_URI="http://localhost:3333/auth/google/callback"

# =============================================================================
# EMAIL CONFIGURATION (Nodemailer)
# =============================================================================

# SMTP configuration for sending emails
# Configure based on your email service provider
#
# PRODUCTION: Use a production email service (SendGrid, Mailgun, AWS SES, etc.)
#
SMTP_SENDER_EMAIL="<SENDER@YOURDOMAIN.COM>"
SMTP_TOKEN="<YOUR-TOKEN-HERE>"

# =============================================================================
# APPLICATION CONFIGURATION
# =============================================================================

# PORT: The port the API server listens on
# PRODUCTION: Render sets this automatically, no need to configure
#
PORT=3333

# FRONTEND_URL: The URL of the frontend application
# Used for CORS configuration and email links
#
# DEVELOPMENT: http://localhost:4200
# PRODUCTION: Your Cloudflare Pages URL (e.g., https://your-app.pages.dev)
#
# IMPORTANT: This MUST match your deployed frontend URL for CORS to work
#
FRONTEND_URL="http://localhost:4200"

# NODE_ENV: Application environment
# Values: "development", "production", "test"
#
# PRODUCTION: Set to "production" in Render dashboard
#   This enables production optimizations and security features
#
NODE_ENV="development"

# =============================================================================
# FRONTEND ENVIRONMENT VARIABLES (Vite)
# =============================================================================
# These variables are used at BUILD TIME for the frontend application.
# They must be prefixed with VITE_ to be exposed to the frontend code.
#
# Set these in Cloudflare Pages dashboard under Settings > Environment Variables

# VITE_API_URL: The URL of the backend API
# Used by the frontend to make API requests
#
# DEVELOPMENT: http://localhost:3333
# PRODUCTION: Your Render API URL (e.g., https://tennis-coach-api.onrender.com)
#
# IMPORTANT: Do NOT include trailing slash
#
# Example for Cloudflare Pages:
#   Variable name: VITE_API_URL
#   Value: https://tennis-coach-api.onrender.com
#
VITE_API_URL="http://localhost:3333"

# =============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# =============================================================================
# Before deploying to production, ensure:
#
# Backend (Render):
#   [ ] DATABASE_URL is set (auto-configured if using Render PostgreSQL)
#   [ ] JWT_SECRET is set to a unique, secure value
#   [ ] JWT_REFRESH_SECRET is set to a different unique, secure value
#   [ ] FRONTEND_URL points to your Cloudflare Pages URL
#   [ ] NODE_ENV is set to "production"
#   [ ] PAYPAL_ENVIRONMENT is set to "live" (if using payments)
#   [ ] GOOGLE_REDIRECT_URI points to your Render API URL
#
# Frontend (Cloudflare Pages):
#   [ ] VITE_API_URL points to your Render API URL
#
# See docs/DEPLOYMENT.md for detailed deployment instructions.
# =============================================================================
